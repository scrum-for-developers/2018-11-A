<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Show all borrowed Books</title>
</head>
<body>
	<form th:object="${borrowedBooksFormData}" method="POST">
		 Email Address:<input id="emailAddress" type="text" th:field="*{emailAddress}" />
		<span th:if="${#fields.hasErrors('emailAddress')}" th:errors="*{emailAddress}"></span>
		<br />
		<input type="submit" id="showMyBorrowedBooks" value="Show my borrowed books" />

	</form>
	<div  th:if="${not #lists.isEmpty(books)}">
		<hr/>
		<table class="bookList">
		<thead>
			<tr>
				<th>Title</th>
				<th>Author</th>
				<th>Year</th>
				<th>Edition</th>
				<th>ISBN</th>
				<th>Borrower</th>
				<th>Return date</th>
			</tr>
		</thead>
		<tbody>
			<tr th:each="book : ${books}">
				<td th:text="${book.title}">Harry Potter</td>
				<td th:text="${book.author}">J.K. Rowling</td>
				<td th:text="${book.yearOfPublication}">2002</td>
				<td th:text="${book.edition}">1st</td>
				<td th:text="${book.isbn}">123456</td>
				<td th:text="${book?.borrowing?.borrowerEmailAddress}">someone@codecentric.de</td>
				<!-- #temporals.format(book?.borrowing?.returnDate,'yyyy-MM-dd') -->
				<td th:text="${#dates.format(book?.borrowing?.returnDate,'yyyy-MM-dd')}">2018-11-26</td>
			</tr>
		</tbody>
		</table>
	</div>
	<hr />
	<a th:href="@{/}">Back to Home</a>
</body>
</html>